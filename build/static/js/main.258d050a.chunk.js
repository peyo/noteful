(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(20),c=a.n(r),l=a(2),s=(a(28),a(17)),i=a(3),d=a(4),m=a(6),u=a(5),f=a(7),h=a(11),p=o.a.createContext({folders:[],notes:[],onDeleteNote:function(){},onAddFolder:function(){},onAddNote:function(){},getNotes:function(){}}),b="https://floating-headland-60183.herokuapp.com",E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={notes:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onDeleteNote",value:function(e,t){var a=this;fetch(b+"/api/notes/".concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){t(e),a.context.getNotes()})).catch((function(e){return a.setState({error:e})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrapper-main"},o.a.createElement("div",{className:"main-sidebar"},o.a.createElement("ul",{className:"folderlist"},this.context.folders.map((function(e){return o.a.createElement("li",{key:e.id,className:"folder-li"},o.a.createElement("div",{className:"folder-div"},o.a.createElement(l.b,{to:"/folders/".concat(e.id),className:"folder-button"},e.name)))}))),o.a.createElement("div",{className:"main-sidebar-button-div"},o.a.createElement(l.b,{to:"/addfolder",className:"add-folder-button"},"Add Folder"))),o.a.createElement("div",{className:"main-page"},o.a.createElement("ul",{className:"main-page-list"},this.context.notes.map((function(t){return o.a.createElement("li",{key:t.id,className:"note-item"},o.a.createElement("div",{className:"note-title"},t.name),o.a.createElement("div",{className:"note-date"},t.modified),o.a.createElement("button",{className:"note-button",onClick:function(){e.onDeleteNote(t.id,e.context.onDeleteNote)}},"Delete Note"))}))),o.a.createElement("div",{className:"main-page-button-div"},o.a.createElement(l.b,{to:"/addnote",className:"main-page-button"},"Add Note"))))}}]),t}(o.a.Component);E.contextType=p;var v=E,N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:null,notes:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onDeleteNote",value:function(e,t){var a=this;fetch(b+"/api/notes/".concat(e),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){t(e),a.context.getNotes()})).catch((function(e){return a.setState({error:e})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrapper-folder"},o.a.createElement("div",{className:"main-sidebar"},o.a.createElement("ul",{className:"folderlist"},this.context.folders.map((function(e){return o.a.createElement("li",{key:e.id,className:"folder-li"},o.a.createElement("div",{className:"folder-div"},o.a.createElement(l.c,{to:"/folders/".concat(e.id),className:"folder-button"},e.name)))}))),o.a.createElement("div",{className:"main-sidebar-button-div"},o.a.createElement(l.b,{to:"/addfolder",className:"add-folder-button"},"Add Folder"))),o.a.createElement("div",{className:"main-page"},o.a.createElement("ul",{className:"main-page-list"},this.context.notes.map((function(t){return t.folder_id===parseInt(e.props.match.params.folderId)?o.a.createElement("li",{key:t.id,className:"note-item"},o.a.createElement(l.b,{to:"/notes/".concat(t.id),className:"note-title"},t.name),o.a.createElement("div",{className:"note-date"},t.modified),o.a.createElement("button",{className:"note-button",onClick:function(){e.onDeleteNote(t.id,e.context.onDeleteNote)}},"Delete Note")):null}))),o.a.createElement(l.b,{to:"/addnote",className:"main-page-button"},"Add Note")))}}]),t}(o.a.Component);N.contextType=p;var y=N,k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:null,notes:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onDeleteNote",value:function(e,t){var a=this;fetch(b+"/api/notes/".concat(e.id),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(n){t(e.id),a.props.history.push("/folders/".concat(e.folder_id))})).catch((function(e){return a.setState({error:e})}))}},{key:"render",value:function(){var e=this,t=this.context.notes.find((function(t){return t.id===parseInt(e.props.match.params.noteId)}))||{},a=this.context.folders.find((function(e){return e.id===t.folder_id}))||{};return o.a.createElement("div",{className:"wrapper-note"},o.a.createElement("div",{className:"main-sidebar"},o.a.createElement("div",{className:"main-sidebar-foldername"},a.name),o.a.createElement("div",{className:"main-sidebar-button-div"},o.a.createElement(l.b,{to:"/folders/".concat(a.id),className:"go-back-button"},"Go Back"))),o.a.createElement("div",{className:"main-page"},o.a.createElement("div",{className:"main-page-list"},o.a.createElement("div",{key:t.id,className:"note-item"},o.a.createElement("div",{className:"note-title"},t.name),o.a.createElement("div",{className:"note-date"},t.modified),o.a.createElement("button",{className:"note-button",onClick:function(){e.onDeleteNote(t,e.context.onDeleteNote)}},"Delete Note")),o.a.createElement("div",{className:"note-content"},t.content))))}}]),t}(o.a.Component);k.contextType=p;var g=k,j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onClickGoBack",value:function(){this.props.history.goBack()}},{key:"onClickCancel",value:function(){this.props.history.goBack()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=e.target.name,n={name:a.value,modified:new Date};this.setState({error:null}),fetch(b+"/api/folders",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong. Try again later.");return e.json()})).then((function(e){a.value="",t.context.onAddFolder(e),t.props.history.push("/")})).catch((function(e){t.setState({error:e.message})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrapper-addfolder"},o.a.createElement("div",{className:"main-sidebar"},o.a.createElement("div",{className:"main-sidebar-go-back-button"},o.a.createElement("button",{onClick:function(){return e.onClickGoBack()},className:"go-back-button"},"Go Back"))),o.a.createElement("div",{className:"main-page-addfolder"},o.a.createElement("div",{className:"main-page-list-addfolder"},o.a.createElement("form",{className:"addfolder-form",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("div",{className:"addfolder-foldername"},o.a.createElement("label",{className:"label",htmlFor:"foldername"},"Name"),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"name",id:"name",required:!0})),o.a.createElement("div",{className:"addfolder-buttons"},o.a.createElement("button",{className:"add-folder-button",type:"submit"},"Add Folder")," ",o.a.createElement("button",{className:"go-back-button",type:"button",onClick:function(){return e.onClickCancel()}},"Cancel"))))))}}]),t}(o.a.Component);j.contextType=p;var O=Object(h.e)(j),C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={error:null},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onClickGoBack",value:function(){this.props.history.goBack()}},{key:"onClickCancel",value:function(){this.props.history.goBack()}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=e.target,n=a.name,o=a.content,r=a.folderId,c={name:n.value,folder_id:r.value,content:o.value};this.setState({error:null}),fetch(b+"/api/notes",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Something went wrong. Try again later.");return e.json()})).then((function(e){n.value="",r.value="",o.value="",t.context.onAddNote(e),t.props.history.goBack()})).catch((function(e){t.setState({error:e.message})}))}},{key:"render",value:function(){var e=this,t=this.context.folders.map((function(e){return o.a.createElement("option",{value:e.id,key:e.id},e.name)}));return o.a.createElement("div",{className:"wrapper-addnote"},o.a.createElement("div",{className:"main-sidebar"},o.a.createElement("div",{className:"main-sidebar-go-back-button"},o.a.createElement("button",{onClick:function(){return e.onClickGoBack()},className:"go-back-button"},"Go Back"))),o.a.createElement("div",{className:"main-page-addnote"},o.a.createElement("div",{className:"main-page-list-addnote"},o.a.createElement("form",{className:"addnote-form",onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("div",{className:"addnote-notename"},o.a.createElement("label",{className:"label",htmlFor:"notename"},"Name"),o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"name",id:"name",required:!0})),o.a.createElement("div",{className:"addnote-notecontent"},o.a.createElement("label",{className:"label",htmlFor:"notecontent"},"Content"),o.a.createElement("br",null),o.a.createElement("textarea",{className:"textarea",name:"content",id:"content",required:!0})),o.a.createElement("div",{className:"addnote-notefolder"},o.a.createElement("label",{className:"label",htmlFor:"notefolder"},"Folder"),o.a.createElement("br",null),o.a.createElement("select",{name:"folderId",id:"folderId",required:!0},t)),o.a.createElement("div",{className:"addnote-buttons"},o.a.createElement("button",{className:"go-back-button",type:"submit"},"Add Note")," ",o.a.createElement("button",{className:"go-back-button",type:"button",onClick:function(){return e.onClickCancel()}},"Cancel"))))))}}]),t}(o.a.Component);C.contextType=p;var w=Object(h.e)(C),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("p",null,"Could not display this element."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(o.a.Component),x=(a(34),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={folders:[],notes:[]},a.onDeleteNote=function(e){var t=a.state.notes.filter((function(t){return t.id!==e}));a.setState({notes:t})},a.onAddFolder=function(e){a.setState({folders:[].concat(Object(s.a)(a.state.folders),[e])})},a.onAddNote=function(e){a.setState({notes:[].concat(Object(s.a)(a.state.notes),[e])})},a.getFolder=function(e){fetch(b+"/api/folders",{method:"GET"}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return a.setState({folders:e})})).catch((function(e){return a.setState({error:e})}))},a.getNotes=function(){fetch(b+"/api/notes",{method:"GET"}).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){return a.setState({notes:e})})).catch((function(e){return a.setState({error:e})}))},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getFolder(),this.getNotes()}},{key:"render",value:function(){var e={folders:this.state.folders,notes:this.state.notes||[],onDeleteNote:this.onDeleteNote,onAddFolder:this.onAddFolder,onAddNote:this.onAddNote,getFolder:this.getFolder,getNotes:this.getNotes};return o.a.createElement("div",{className:"App"},o.a.createElement("main",null,o.a.createElement("header",null,o.a.createElement("h1",null,o.a.createElement(l.b,{className:"main",to:"/"},"Noteful"))),o.a.createElement(p.Provider,{value:e},o.a.createElement(h.a,{exact:!0,path:"/",render:function(){return o.a.createElement(S,null,o.a.createElement(v,null))}}),o.a.createElement(h.a,{path:"/folders/:folderId",render:function(e){return o.a.createElement(S,null,o.a.createElement(y,e))}}),o.a.createElement(h.a,{path:"/notes/:noteId",render:function(e){return o.a.createElement(S,null,o.a.createElement(g,e))}}),o.a.createElement(h.a,{path:"/addfolder",render:function(){return o.a.createElement(S,null,o.a.createElement(O,null))}}),o.a.createElement(h.a,{path:"/addnote",render:function(){return o.a.createElement(S,null,o.a.createElement(w,null))}}))))}}]),t}(o.a.Component));c.a.render(o.a.createElement(l.a,null,o.a.createElement(x,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.258d050a.chunk.js.map